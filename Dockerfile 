# Sử dụng image Tomcat 10 có sẵn JDK 17
FROM tomcat:10.1-jdk17-temurin

# Xóa webapp mặc định của Tomcat (ROOT, examples,…)
RUN rm -rf /usr/local/tomcat/webapps/*

# Copy file WAR của bạn từ target (đã build) vào thư mục Tomcat
COPY target/MyMVC.war /usr/local/tomcat/webapps/ROOT.war

# Mở port 8080 (Render sẽ tự nhận)
EXPOSE 8080

# Lệnh chạy Tomcat khi container khởi động
CMD ["catalina.sh", "run"]
